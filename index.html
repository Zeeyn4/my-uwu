<!DOCTYPE HTML>
<html lang="en">
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
		<meta charset="UTF-8">
		<title>First anniversary of love</title>
		<link rel="stylesheet" type="text/css" href="./css/format.css">
	</head>

	<body style="margin:0px">
		<audio id="backgroundMusic" autoplay loop preload="auto" playsinline>
			<source src="music/music.mp3" type="audio/mpeg">
			Ваш браузер не поддерживает аудио.
		</audio>
		<canvas></canvas>
		<div id="imgTxt">
			<span id="Txt"></span>
			<img id="img" src="">
		</div>
		<div id="heartTxt">
			<span id="clickMe">Click!</span>
			<div id="heart">
				<button id="button" onclick="play()"></button>
			</div>
		</div>
		<div id="content">
			<h2 id="together">Мы вместе уже</h2>
			<div id="timer">
				<div class="timer-item">
					<b id="d">0</b>
					<span id="dLabel" class="timer-label">Дней</span>
				</div>
				<div class="timer-item">
					<b id="h">0</b>
					<span id="hLabel" class="timer-label">Часов</span>
				</div>
				<div class="timer-item">
					<b id="m">0</b>
					<span id="mLabel" class="timer-label">Минут</span>
				</div>
				<div class="timer-item">
					<b id="s">0</b>
					<span id="sLabel" class="timer-label">Секунд</span>
				</div>
			</div>
		</div>

    	<div id = "typeDiv">
        	<span id="txt1"></span> <br />
        	<span id="txt2"></span>
    	</div>		

		<script >
			var ok = 0;
			var flag = 1;
			var myImage = document.getElementById("img");
			var myTxt = document.getElementById("Txt");
			var imageArray = ["pic/photo_2026-01-18_23-14-08.jpg", "pic/photo_2026-01-18_23-14-28.jpg", "pic/photo_2026-01-18_23-14-34.jpg",
			"pic/photo_2026-01-18_23-14-40.jpg", "pic/photo_2026-01-18_23-14-44.jpg", "pic/photo_2026-01-18_23-14-49.jpg",
			"pic/photo_2026-01-18_23-14-54.jpg", "pic/photo_2026-01-18_23-14-58.jpg"];
			var imageIndex = 0;
			var txtArray = ["", "", "", "", "", "", "", ""];
			 var len = imageArray.length;
			var t = 0;
			
			// Предзагрузка всех изображений для быстрой работы
			var preloadedImages = [];
			function preloadImages() {
				for (var i = 0; i < imageArray.length; i++) {
					var img = new Image();
					img.src = imageArray[i];
					preloadedImages.push(img);
				}
			}
			preloadImages();
			
			// Функция для запуска музыки
			function tryPlayMusic() {
				var audio = document.getElementById("backgroundMusic");
				if (audio && audio.paused) {
					var playPromise = audio.play();
					if (playPromise !== undefined) {
						playPromise.catch(function(error) {
							// Автозапуск заблокирован - это нормально для Chrome
							// Музыка запустится при взаимодействии пользователя
						});
					}
				}
			}
			
			// Пытаемся запустить музыку при загрузке страницы
			window.addEventListener('load', function() {
				tryPlayMusic();
			});
			
			// Пытаемся запустить музыку при любом взаимодействии пользователя
			// (это поможет обойти блокировку Chrome)
			var userInteracted = false;
			var interactionEvents = ['click', 'touchstart', 'keydown', 'mousedown'];
			interactionEvents.forEach(function(eventType) {
				document.addEventListener(eventType, function() {
					if (!userInteracted) {
						userInteracted = true;
						tryPlayMusic();
					}
				}, { once: true });
			});
		</script>
		
		<script type="text/javascript" src="./js/stars.js"></script>
		<script type="text/javascript" src="./js/typeWriter.js"></script>
		<script type="text/javascript" src="./js/date.js"></script>
		<script type="text/javascript" src="./js/playImg.js"></script>
	</body>
</html>
